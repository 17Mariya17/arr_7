<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>ДЗ 20. Написати декілька функцій</h1>
    <script>
      // 1. Дано масив з елементами різних типів. Створити функцію яка вираховує середнє арифметичне лише числових елементів даного масиву.
      // Define a function to calculate the average of array 1
      const task_1 = () => {
        // Define an array of numbers and strings
        let array1 = [1, 22, 4, "f", "h"];
        // Create new array of numbers
        array_1_num = 0;
        array_1_sum = 0;
        // For each element of array
        for (let i = 0; i < array1.length; i++) {
          // Check whether element is number
          if (typeof array1[i] == "number") {
            // Add element to array_1_num
            array_1_sum += array1[i];
            array_1_num = array_1_num + 1;
          }
        }
        // Results
        document.write(
          "<b> Завдання №1 </b>" +
            "<br>" +
            "<b> Елементи масиву: </b>" +
            array1 +
            "<br>" +
            "<b> Cереднє арифметичне лише числових елементів даного масиву масиву: </b>" +
            array_1_sum / array_1_num +
            "<br>"
        );
      };
      // Call the function
      task_1();

      //2. Написати функцію doMath(x, znak, y), яка отримує 3 аргументи: числа x і y, рядок znak. У змінній znak може бути: +, -, *, /, %, ^ (ступінь ).Вивести результат математичної дії, вказаної в змінній znak.Обидва числа і знак виходять від користувача.
      // Define elements
      let x = prompt("2. Напишіть перше число (x)");
      let znak = prompt("2. Напишіть знак (+, -, *, /, %, ^ )");
      let y = prompt("2. Напишіть перше число (y)");
      // Function
      const doMath = (x, znak, y) => {
        if (~znak.search(/[^+\-*/%^]/) || znak.length !== 1) return "Do change";
        return eval(x + znak.replace("^", "**") + y);
      };
      // Results
      document.write(
        "<br> <b> Завдання №2 </b>" +
          "<br>" +
          "<b> Результат математичної дії: </b>" +
          x +
          znak +
          y +
          "=" +
          doMath(x, znak, y) +
          "<br>"
      );

      // 3. Написати функцію заповнення даними користувача двомірного масиву. Довжину основного масиву і внутрішніх масивів задає користувач. Значення всіх елементів всіх масивів задає користувач.
      // Define elements
      let first_arr = prompt("3. Яка довжина головного масиву?");
      let second_arr = prompt("3. Яка довжина внутрішнього масиву?");
      // Create new array of numbers
      const arr = new Array(+first_arr)
        .fill(0)
        .map((_, ind) =>
          new Array(+second_arr)
            .fill(0)
            .map((_, i) => prompt(`3. Введіть елемент ${i} в масиві ${ind}`))
        );
      // Results
      document.write(
        "<br> <b> Завдання №3 </b>" +
          "<br>" +
          "<b> Двомірний масив: </b>" +
          arr.map((subArr) => "\n" + subArr) +
          "<br>"
      );

      //4. Створити функцію, яка прибирає з рядка всі символи, які ми передали другим аргументом. 'func(" hello world", ['l', 'd'])' поверне нам "heo wor". Вихідний рядок та символи для видалення задає користувач.
      //Створюємо масив.
      let array4 = prompt("4. Введіть вихідний рядок").split("");
      //Користувач задає елемент для видалення.
      let delete_array4 = prompt("4. Введіть символи для видалення").split("");
      //Видаляємо елементи з масиву.
      filtered_array = array4.filter((el) => !delete_array4.includes(el));
      //Оновлений масив.
      document.write(
        "<br> <b> Завдання №4 </b>" +
          "<br>" +
          "<b> Вихідний масив: </b>" +
          array4 +
          "<br>" +
          "<b> Оновлений масив: </b>" +
          filtered_array +
          "<br>"
      );
    </script>
  </body>
</html>
